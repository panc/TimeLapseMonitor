<div>
    <h1>Photo Gallery</h1>
    
    <div class="row buttons-area">
        <div class="state-area">
            <span>Timelapse: </span>
            <span ng-class="isTimelapseRunning ? 'state-running' : 'state-stopped'">{{ timelapseState }}</span>
            
            <span ng-hide="isStreaming"> | </span>
            <a ng-hide="isStreaming" ng-click="startOrStopTimeplase()">{{ startStopButtonText }}</a>
            
            <span> | </span>
            <a ng-click="startOrStopPreview()">{{ startOrStopPreviewText }}</a>
        </div>
    </div>
    
    <div class="row photos" ng-hide="isStreaming">
        <div class="buttons">
            <button type="button" ng-click="refresh()">Refresh</button>
            <button type="button" ng-click="takePhoto()">Take a photo</button>
        </div>

        <div ng-repeat="img in photos" class="photo">
            <a href="{{ img.fullSizeUrl }}" target="_blank"><img ng-src=" {{ img.url }} " title=" {{ img.name }} " /></a>
        </div>
    </div>
    
    <div class="row preview-stream" ng-show="isStreaming">
        <img ng-src="{{ streamSource }}">
    </div>
</div>